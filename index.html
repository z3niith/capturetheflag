<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CTF Challenge</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/x-icon" href="earth.png">
</head>
<body>
    <div class="container">
        <h1><span class="auto-type"></span></h1>
        <h3>This should be done completely independent. <br><strong>ZERO HELP!!!</strong></h3>
        <p>Your first task is to inspect the page source to find the hidden flag.</p>
        
        <h2>1. In Plain Sight (somewhere here)</h2>
        <p class="difficulty-super-easy"><b>Beginner</b></p>
        <p>Explore the page and find the flag hidden in the code.</p>

        <h2>2. Cryptic</h2>
        <p class="difficulty-easy"><b>Easy</b></p>
        <p>Decrypt the flag hidden in this <a href="decrypt.py" download>Python script</a>.</p>

        <h2>3. File Manipulation</h2>
        <p class="difficulty-intermediate"><b>Intermediate</b></p>
        <p>Run the <a href="generate_flag.py" download>Python script</a> to generate a file with the hidden flag.</p>

        <h2>4. Tracing Footsteps</h2>
        <p class="difficulty-advanced"><b>Advanced</b></p>
        <p>Download the PCAP file and analyze the network's traffic <a href="challenge4.zip" download>here</a>.</p>
        
        <h2>5. Never Give Up</h2>
        <p class="difficulty-easy"><b>Easy</b></p>
        <p>Download the following file<a href="sirrobot.png" download> here</a> and decrypt the hidden Flag.</p>
        <p>What's he never going to say? <br>hint: 1:36</p>
        
        <h2>6. Decrypt Part 2: Finale</h2>
        <p class="difficulty-intermediate"><b>Intermediate</b></p>
        <p>Decrypt this <a href="decrypt_2.py" download>Python script</a>.</p>
        
        <h3>Found the flag?<br> Submit Your Flag:</h3>
        <input type="text" id="flag-input" placeholder="Enter flag here">
        <button onclick="checkFlag()">Submit</button>
        <p id="result"></p>
    </div>

    <script src="https://unpkg.com/typed.js@2.1.0/dist/typed.umd.js"></script>
      
    <script>
        var typed = new Typed(".auto-type", {
            strings: ["Hi", "print('hello world')", "Hello", "Konichiwa", "Bonjour","Hola"],
            typeSpeed: 155,
            backSpeed: 150,
            loop: true
        });

        function checkFlag() {
            const flag = document.getElementById("flag-input").value;
            const resultElement = document.getElementById('result');

            // Send the flag to the server using Fetch API
            fetch('http://localhost:3000/submit_flag', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ flag: flag })
            })
            .then(response => response.json())
            .then(data => {
                resultElement.textContent = data.message;
                if (response.status === 200) {
                    resultElement.style.color = 'violet';  // Success color
                } else {
                    resultElement.style.color = 'red';     // Error color
                }
            })
            .catch(error => {
                resultElement.textContent = "An error occurred. Please try again.";
                resultElement.style.color = 'red';
            });
        }
    </script>
</body>
</html>
